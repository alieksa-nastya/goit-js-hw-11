{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function markup(data) {\n    let { hits } = data;\n    const box = document.querySelector('.gallery');\n\n    if(hits.length === 0) {\n        iziToast.show({\n            messageColor: \"#fafafb\",\n            messageSize: '16px',\n            backgroundColor: 'background: #ef4040',\n            transitionIn: 'bounceInLeft',\n            position: 'topRight',\n            closeOnClick: true,\n            message: 'Sorry, there are no images matching your search query. Please try again!'\n        });\n        box.innerHTML = '';\n        return;\n    }\n    const markup = hits \n    .map(\n        image => \n            ` <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img class=\"gallery-img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            <div class=\"gallery-div\">\n                <p>Likes</p>\n                <p>Views</p>\n                <p>Comment</p>\n                <p>Downloads</p>\n                <span>${image.likes}</span>\n                <span>${image.views}</span>\n                <span>${image.comments}</span>\n                <span>${image.downloads}</span>\n            </div>\n        </a>\n    </li>`\n    )\n    .join(' ');\n\n    box.innerHTML = markup;\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n    lightbox.refresh();\n}","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { markup } from \"./render-functions\";\n\nconst API_KEY = '49077241-9df32fcc53d001f958141ccb6';\n\nexport function getImage(input) {\n    const box = document.querySelector('.gallery');\n    const query = encodeURIComponent(input);\n    const urlParams = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    const URL = `https://pixabay.com/api/?${urlParams}`;\n\n    return fetch(URL)\n    .then(response => {\n        if(!response.ok) {\n            throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        return response.json();\n    })\n    .then(data => {\n        return markup(data);\n    })\n    .catch(error => {\n        console.error(error);\n        box.innerHTML = '';\n        iziToast.show({\n            messageColor: \"#fafafb\",\n            messageSize: '16px',\n            backgroundColor: 'background: #ef4040',\n            transitionIn: 'bounceInLeft',\n            position: 'topRight',\n            closeOnClick: true,\n            message: 'Sorry, an error happened. Try again',\n        });\n        return;\n    });\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport {getImage} from './js/pixabay-api'\n\ndocument.querySelector('.input-list').addEventListener('submit', event => {\n    const input = document.querySelector('.input').value.trim();\n    const box = document.querySelector('.gallery');\n    event.preventDefault();\n\n    if(!input) {\n        iziToast.show({\n            messageColor: \"#fafafb\",\n            messageSize: '16px',\n            backgroundColor: 'background: #ef4040',\n            transitionIn: 'bounceInLeft',\n            position: 'topRight',\n            closeOnClick: true,\n            message: 'Please enter the search query',\n        });\n        return;\n    }\n    box.innerHTML = '<p>Wait, the image is loaded</p><span class = \"loader\"></span>'\n    getImage(input);\n})"],"names":["markup","data","hits","box","iziToast","image","SimpleLightbox","API_KEY","getImage","input","query","URL","response","error","event"],"mappings":"wvBAKO,SAASA,EAAOC,EAAM,CACzB,GAAI,CAAE,KAAAC,CAAM,EAAGD,EACf,MAAME,EAAM,SAAS,cAAc,UAAU,EAE7C,GAAGD,EAAK,SAAW,EAAG,CAClBE,EAAS,KAAK,CACV,aAAc,UACd,YAAa,OACb,gBAAiB,sBACjB,aAAc,eACd,SAAU,WACV,aAAc,GACd,QAAS,0EACrB,CAAS,EACDD,EAAI,UAAY,GAChB,MACH,CACD,MAAMH,EAASE,EACd,IACGG,GACI;AAAA,wCAC4BA,EAAM,aAAa;AAAA,4CACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAM1DA,EAAM,KAAK;AAAA,wBACXA,EAAM,KAAK;AAAA,wBACXA,EAAM,QAAQ;AAAA,wBACdA,EAAM,SAAS;AAAA;AAAA;AAAA,UAIlC,EACA,KAAK,GAAG,EAETF,EAAI,UAAYH,EACC,IAAIM,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACtB,CAAK,EACQ,QAAO,CACpB,CC5CA,MAAMC,EAAU,qCAET,SAASC,EAASC,EAAO,CAC5B,MAAMN,EAAM,SAAS,cAAc,UAAU,EACvCO,EAAQ,mBAAmBD,CAAK,EAShCE,EAAM,4BARM,IAAI,gBAAgB,CAClC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,CAEgD,GAEjD,OAAO,MAAMC,CAAG,EACf,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE5D,OAAOA,EAAS,MACxB,CAAK,EACA,KAAKX,GACKD,EAAOC,CAAI,CACrB,EACA,MAAMY,GAAS,CACZ,QAAQ,MAAMA,CAAK,EACnBV,EAAI,UAAY,GAChBC,EAAS,KAAK,CACV,aAAc,UACd,YAAa,OACb,gBAAiB,sBACjB,aAAc,eACd,SAAU,WACV,aAAc,GACd,QAAS,qCACrB,CAAS,CAET,CAAK,CACL,CCxCA,SAAS,cAAc,aAAa,EAAE,iBAAiB,SAAUU,GAAS,CACtE,MAAML,EAAQ,SAAS,cAAc,QAAQ,EAAE,MAAM,OAC/CN,EAAM,SAAS,cAAc,UAAU,EAG7C,GAFAW,EAAM,eAAc,EAEjB,CAACL,EAAO,CACPL,EAAS,KAAK,CACV,aAAc,UACd,YAAa,OACb,gBAAiB,sBACjB,aAAc,eACd,SAAU,WACV,aAAc,GACd,QAAS,+BACrB,CAAS,EACD,MACH,CACDD,EAAI,UAAY,iEAChBK,EAASC,CAAK,CAClB,CAAC"}